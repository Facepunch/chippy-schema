{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "/chippy-schema/schemas/bulletkeyframedata.json",
  "title": "SpaceUsurper.BulletKeyframeData",
  "description": "Describes the properties a bullet should have for a certain period of time, in sequence.",
  "type": "object",
  "properties": {
    "sprites": {
      "type": "array",
      "items": {
        "anyOf": [
          {
            "$ref": "/chippy-schema/schemas/datapath.json"
          }
        ]
      }
    },
    "spriteIndex": {
      "anyOf": [
        {
          "$ref": "/chippy-schema/schemas/iscriptfunc.json"
        },
        {
          "type": "integer"
        }
      ]
    },
    "onKeyframe": {
      "description": "Actions to run at the start of this keyframe.",
      "allOf": [
        {
          "$ref": "/chippy-schema/schemas/actionlist.json"
        }
      ]
    },
    "#include": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "precacheTextures": {
      "type": "array",
      "items": {
        "anyOf": [
          {
            "$ref": "/chippy-schema/schemas/datapath.json"
          }
        ]
      }
    },
    "sprite": {
      "anyOf": [
        {
          "$ref": "/chippy-schema/schemas/datapath.json"
        }
      ]
    },
    "duration": {
      "anyOf": [
        {
          "$ref": "/chippy-schema/schemas/iscriptfunc.json"
        },
        {
          "type": "number"
        }
      ]
    },
    "moveMode": {
      "anyOf": [
        {
          "$ref": "/chippy-schema/schemas/iscriptfunc.json"
        },
        {
          "$ref": "/chippy-schema/schemas/bulletmovemode.json"
        }
      ]
    },
    "velocityMode": {
      "anyOf": [
        {
          "$ref": "/chippy-schema/schemas/iscriptfunc.json"
        },
        {
          "$ref": "/chippy-schema/schemas/bulletvelocitymode.json"
        }
      ]
    },
    "facingMode": {
      "anyOf": [
        {
          "$ref": "/chippy-schema/schemas/iscriptfunc.json"
        },
        {
          "$ref": "/chippy-schema/schemas/bulletfacingmode.json"
        }
      ]
    },
    "targetPos": {
      "description": "If moveMode is Target, lerp to this position instead of using velocity.",
      "allOf": [
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "mode": {
                  "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
                },
                "value": {
                  "anyOf": [
                    {
                      "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                    },
                    {
                      "$ref": "/chippy-schema/schemas/vector2.json"
                    }
                  ]
                }
              }
            },
            {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "$ref": "/chippy-schema/schemas/vector2.json"
                }
              ]
            }
          ]
        }
      ]
    },
    "posLerpSpeed": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "type": "number"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "number"
            }
          ]
        }
      ]
    },
    "moveAngle": {
      "description": "Relative to the starting direction (unless useAbsoluteAngles is true).",
      "allOf": [
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "mode": {
                  "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
                },
                "value": {
                  "anyOf": [
                    {
                      "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                    },
                    {
                      "$ref": "/chippy-schema/schemas/rotation.json"
                    }
                  ]
                }
              }
            },
            {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "$ref": "/chippy-schema/schemas/rotation.json"
                }
              ]
            }
          ]
        }
      ]
    },
    "rotationSpeed": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "type": "number"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "number"
            }
          ]
        }
      ]
    },
    "facingSpeedPercent": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "type": "number"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "number"
            }
          ]
        }
      ]
    },
    "targetFacingAngle": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "$ref": "/chippy-schema/schemas/rotation.json"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "$ref": "/chippy-schema/schemas/rotation.json"
            }
          ]
        }
      ]
    },
    "acceleration": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "type": "number"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "number"
            }
          ]
        }
      ]
    },
    "frictionPercent": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "type": "number"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "number"
            }
          ]
        }
      ]
    },
    "radius": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "type": "number"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "number"
            }
          ]
        }
      ]
    },
    "rectSize": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "$ref": "/chippy-schema/schemas/vector2.json"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "$ref": "/chippy-schema/schemas/vector2.json"
            }
          ]
        }
      ]
    },
    "rectWidthMods": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "$ref": "/chippy-schema/schemas/vector2.json"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "$ref": "/chippy-schema/schemas/vector2.json"
            }
          ]
        }
      ]
    },
    "length": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "type": "number"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "number"
            }
          ]
        }
      ]
    },
    "crossWidth": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "type": "number"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "number"
            }
          ]
        }
      ]
    },
    "crossDistance": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "type": "number"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "number"
            }
          ]
        }
      ]
    },
    "colorA1": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "$ref": "/chippy-schema/schemas/color.json"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "$ref": "/chippy-schema/schemas/color.json"
            }
          ]
        }
      ]
    },
    "colorA2": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "$ref": "/chippy-schema/schemas/color.json"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "$ref": "/chippy-schema/schemas/color.json"
            }
          ]
        }
      ]
    },
    "colorB1": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "$ref": "/chippy-schema/schemas/color.json"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "$ref": "/chippy-schema/schemas/color.json"
            }
          ]
        }
      ]
    },
    "colorB2": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "$ref": "/chippy-schema/schemas/color.json"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "$ref": "/chippy-schema/schemas/color.json"
            }
          ]
        }
      ]
    },
    "colorC1": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "$ref": "/chippy-schema/schemas/color.json"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "$ref": "/chippy-schema/schemas/color.json"
            }
          ]
        }
      ]
    },
    "colorC2": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "$ref": "/chippy-schema/schemas/color.json"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "$ref": "/chippy-schema/schemas/color.json"
            }
          ]
        }
      ]
    },
    "glowA": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "type": "number"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "number"
            }
          ]
        }
      ]
    },
    "glowB": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "type": "number"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "number"
            }
          ]
        }
      ]
    },
    "glowC": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "mode": {
              "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
            },
            "value": {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "type": "number"
                }
              ]
            }
          }
        },
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "number"
            }
          ]
        }
      ]
    },
    "opacity": {
      "description": "Modifier value for the colors' opacities.",
      "allOf": [
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "mode": {
                  "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
                },
                "value": {
                  "anyOf": [
                    {
                      "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                    },
                    {
                      "type": "number"
                    }
                  ]
                }
              }
            },
            {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "type": "number"
                }
              ]
            }
          ]
        }
      ]
    },
    "colorBlinkTime": {
      "description": "Time it takes to lerp between color1 and color2.",
      "allOf": [
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "mode": {
                  "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
                },
                "value": {
                  "anyOf": [
                    {
                      "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                    },
                    {
                      "type": "number"
                    }
                  ]
                }
              }
            },
            {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "type": "number"
                }
              ]
            }
          ]
        }
      ]
    },
    "easingType": {
      "description": "The easing type used when easing into the next keyframe.",
      "allOf": [
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "$ref": "/chippy-schema/schemas/easingtype.json"
            }
          ]
        }
      ]
    },
    "loopStart": {
      "description": "Keyframe will be ignored until we are on loop number N or greater.",
      "allOf": [
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "integer"
            }
          ]
        }
      ]
    },
    "loopEnd": {
      "description": "Keyframe will be ignored if we are on or past loop number N (non-inclusive).",
      "allOf": [
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "integer"
            }
          ]
        }
      ]
    },
    "loopModulus": {
      "description": "Keyframe active every N loops.",
      "allOf": [
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "integer"
            }
          ]
        }
      ]
    },
    "chance": {
      "description": "Chance of using keyframe, from 0 to 1.",
      "allOf": [
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "number"
            }
          ]
        }
      ]
    },
    "next": {
      "description": "If this returns a valid frame, goto that frame instead of the next-in-sequence keyframe.",
      "allOf": [
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "integer"
            }
          ]
        }
      ]
    },
    "isPositive": {
      "description": "Whether the player would generally want to collide with the bullet on this keyframe, and/or would not want to destroy it.",
      "allOf": [
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "boolean"
            }
          ]
        }
      ]
    },
    "pixelDamagePercent": {
      "description": "The percent of max damage the bullet has available this keyframe.",
      "allOf": [
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "mode": {
                  "$ref": "/chippy-schema/schemas/keyframepropertymode.json"
                },
                "value": {
                  "anyOf": [
                    {
                      "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                    },
                    {
                      "type": "number"
                    }
                  ]
                }
              }
            },
            {
              "anyOf": [
                {
                  "$ref": "/chippy-schema/schemas/iscriptfunc.json"
                },
                {
                  "type": "number"
                }
              ]
            }
          ]
        }
      ]
    },
    "ignorePixelCollision": {
      "description": "Use when a bullet should start on a pxc without colliding with it until later.",
      "allOf": [
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "boolean"
            }
          ]
        }
      ]
    },
    "ignorePlayerCollision": {
      "description": "Only applies to this keyframe, unlike the general version of this func which means the bullet can never hit the player.",
      "allOf": [
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "boolean"
            }
          ]
        }
      ]
    },
    "cantBeAffected": {
      "description": "If true, not affected by RepelBullets / DestroyBullets / TransformBullets / AffectBulletsInRadius / GetBulletsInRadius / AddForceToBullets.",
      "allOf": [
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "boolean"
            }
          ]
        }
      ]
    },
    "proximityEnabled": {
      "description": "Whether the bullet should check proximity to target units on this keyframe (true by default).",
      "allOf": [
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "boolean"
            }
          ]
        }
      ]
    },
    "vibrateOnTouchAmount": {
      "description": "TODO: only supported by BulletArchetype bullets.",
      "allOf": [
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "number"
            }
          ]
        }
      ]
    },
    "vibrateOnTouchHorizThreshold": {
      "description": "TODO: only supported by BulletArchetype bullets.",
      "allOf": [
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "type": "number"
            }
          ]
        }
      ]
    },
    "vibrateOnTouchEasingType": {
      "description": "TODO: only supported by BulletArchetype bullets.",
      "allOf": [
        {
          "anyOf": [
            {
              "$ref": "/chippy-schema/schemas/iscriptfunc.json"
            },
            {
              "$ref": "/chippy-schema/schemas/easingtype.json"
            }
          ]
        }
      ]
    }
  }
}